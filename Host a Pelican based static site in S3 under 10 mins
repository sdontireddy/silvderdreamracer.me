Title: Host a Pelican based static site in S3 under 10 mins
Date: 2021-07-11 20:53
Author: sdontireddy
Category: Performance
Tags: WebSite, S3 , Pelican , github actions , Continous Delivery
Slug: host-a-pelican-static-site-in-S3-in-10-minutes
Status: published

### Host a Pelican based static site in S3 under 10 mins

Usecase : Use Pelican ** Markdown ** based static generator as a platform for your static site maintained in AWS S3
and you dont want to manage any of the below things except creating the content in the markdown.

- Running Pelican commands to generate static files
- Setting up AWS resources required to manage static site
- Pushing the files manually to S3


##### Prerequisites
- Custom domain name for your site
- Make sure you have AWS credentials required to run a CloudFormation template
- AWS Cloudformation minimum knowledge

### One Time Setup

###### Configure an AWS user to be used for github actions

If you want to levarage github actions to do Continous Delivery and deploy the static files without touching any other code
then we would need create an AWS user with very minimal set of privilages to be specifically used for github actions.

If you dont want to use github actions for the Continous Delivery , pls skip this.

Use the AWS cloud formation template [here](https://github.com/sdontireddy/aws-cloud-formation-gh-user)

and create an AWS user and corresponding managed policies so that this user details can be used to perform actions directly from github.com


###### Deploy CloudFormation to create required AWS resources 
- Clone the cloud formation template to a new repository 
- configure GH Action user
- Thats it this is gonna create required resources to manage static site in S3
TODO -- Need to create a template that executes cloudformation template automatically

Please use the template here https://github.com/aws-samples/amazon-cloudfront-secure-static-site

###### Create Repo for your content
This will be the repo to manage content in Markdown

- Clone the repo
- This will be the repo to manage content in Markdown
- Configure AWS credentials
- Start creating the content

Note : Default **Flex** Pelican template is used.

Thats it! You have a github repository to manage content in markdown , whenever you push new code to main branch your content in **Markdown** will be converted to Static HTML and deplyed to S3 bucket specified in the previous steps.
